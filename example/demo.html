<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Retro Game Player - Vanilla HTML Demo</title>
    <!-- Include the bundle -->
    <script src="../dist/web-component.global.js"></script>
    <style>
        body { margin: 0; background: #111; color: white; font-family: sans-serif; height: 100vh; display: flex; flex-direction: column; }
        header { padding: 20px; background: #222; border-bottom: 1px solid #333; }
        #player-container { flex: 1; padding: 20px; }
        retro-game-player {
            display: block;
            width: 100%;
            height: 100%;
            max-width: 800px;
            margin: 0 auto;
            border: 2px solid #444;
            border-radius: 8px;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <header>
        <h1>Retro Game Player Demo</h1>
        <p>This is a standard HTML page using the &lt;retro-game-player&gt; Web Component.</p>
        
        <select id="system-select">
            <option value="nes">NES</option>
            <option value="snes">SNES</option>
            <option value="gba">GBA</option>
        </select>
        
        <input type="text" id="rom-url" placeholder="Paste ROM URL here" style="width: 300px; padding: 5px;">
        <button onclick="loadGame()">Load Game</button>
    </header>

    <div id="player-container">
        <!-- The Web Component -->
        <retro-game-player 
            id="my-player"
            rom-url="https://nostalgist.js.org/flappybird.nes" 
            system="nes" 
            title="Flappy Bird (Demo)"
        ></retro-game-player>
    </div>

    <script>
        const player = document.getElementById('my-player');

        function loadGame() {
            const system = document.getElementById('system-select').value;
            const url = document.getElementById('rom-url').value;
            
            if (url) {
                player.setAttribute('system', system);
                player.setAttribute('rom-url', url);
                player.setAttribute('title', 'Custom Game');
            } else {
                alert('Please enter a ROM URL');
            }
        }

        // Example of setting complex properties via JS
        player.onSaveState = async (slot, blob) => {
            console.log('Saved state via Vanilla JS handler:', slot, blob.size);
            alert(`Saved! (${blob.size} bytes)`);
        };
        
        player.retroAchievementsConfig = {
            username: 'demo_user',
            token: 'demo_token'
        };
    </script>
</body>
</html>
