diff --git a/node_modules/nostalgist/dist/nostalgist.js b/node_modules/nostalgist/dist/nostalgist.js
index 2c9f72c..153e75f 100644
--- a/node_modules/nostalgist/dist/nostalgist.js
+++ b/node_modules/nostalgist/dist/nostalgist.js
@@ -248,7 +248,7 @@ function requirePathBrowserify() {
       else
         code = 47;
       if (code === 47) {
-        if (lastSlash === i2 - 1 || dots === 1) ;
+        if (lastSlash === i2 - 1 || dots === 1);
         else if (lastSlash !== i2 - 1 && dots === 2) {
           if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 || res.charCodeAt(res.length - 2) !== 46) {
             if (res.length > 2) {
@@ -550,8 +550,8 @@ function requirePathBrowserify() {
         }
       }
       if (startDot === -1 || end === -1 || // We saw a non-dot character immediately before the dot
-      preDotState === 0 || // The (right-most) trimmed path component is exactly '..'
-      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
+        preDotState === 0 || // The (right-most) trimmed path component is exactly '..'
+        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
         return "";
       }
       return path2.slice(startDot, end);
@@ -602,8 +602,8 @@ function requirePathBrowserify() {
         }
       }
       if (startDot === -1 || end === -1 || // We saw a non-dot character immediately before the dot
-      preDotState === 0 || // The (right-most) trimmed path component is exactly '..'
-      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
+        preDotState === 0 || // The (right-most) trimmed path component is exactly '..'
+        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
         if (end !== -1) {
           if (startPart === 0 && isAbsolute) ret.base = ret.name = path2.slice(1, end);
           else ret.base = ret.name = path2.slice(startPart, end);
@@ -2076,6 +2076,8 @@ class Emulator {
   gameStatus = "initial";
   globalDOMEventListeners = /* @__PURE__ */ new Map();
   messageQueue = [];
+  cachedKeyboardCodes = null;
+  cachedRetroarchConfigMtime = 0;
   options;
   get coreFullName() {
     const { core } = this.options;
@@ -2338,9 +2340,24 @@ class Emulator {
     return !size || size === "auto" ? { height: element.offsetHeight, width: element.offsetWidth } : size;
   }
   getKeyboardCode(button, player = 1) {
-    const config = this.getCurrentRetroarchConfig();
+    // Check config file stats to see if it changed
+    const stats = this.fs.stat(EmulatorFileSystem.configPath);
+    const currentMtime = stats ? stats.mtime.getTime() : 0;
+
+    // Reload cache if mtime changed or cache doesn't exist
+    if (!this.cachedKeyboardCodes || currentMtime > this.cachedRetroarchConfigMtime) {
+      const config = this.getCurrentRetroarchConfig();
+      this.cachedKeyboardCodes = new Map();
+      this.cachedRetroarchConfigMtime = currentMtime;
+      for (const configKey in config) {
+        if (configKey.startsWith('input_player')) {
+          this.cachedKeyboardCodes.set(configKey, config[configKey]);
+        }
+      }
+    }
+
     const configName = `input_player${player}_${button}`;
-    const key = config[configName];
+    const key = this.cachedKeyboardCodes.get(configName);
     if (!key || key === "nul") {
       return;
     }
